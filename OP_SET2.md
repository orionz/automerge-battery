
## Run on MacOS Apple M1 11/22/2024 automerge "op\_set2" branch

```
bestiary                             fastest       │ slowest       │ median        │ mean          │ samples │ iters
├─ load                                            │               │               │               │         │
│  ├─ ./benches/embark.automerge     293.7 ms      │ 381.6 ms      │ 301.8 ms      │ 309.1 ms      │ 9       │ 9
│  │                                 max alloc:    │               │               │               │         │
│  │                                   124.2 MB    │ 124.2 MB      │ 124.2 MB      │ 124.2 MB      │         │
│  │                                 alloc:        │               │               │               │         │
│  │                                   1829232     │ 1829232       │ 1829232       │ 1829232       │         │
│  │                                   331.9 MB    │ 331.9 MB      │ 331.9 MB      │ 331.9 MB      │         │
│  │                                 dealloc:      │               │               │               │         │
│  │                                   1829232     │ 1829232       │ 1829232       │ 1829232       │         │
│  │                                   501.2 MB    │ 501.2 MB      │ 501.2 MB      │ 501.2 MB      │         │
│  │                                 grow:         │               │               │               │         │
│  │                                   571440      │ 571440        │ 571440        │ 571440        │         │
│  │                                   169.2 MB    │ 169.2 MB      │ 169.2 MB      │ 169.2 MB      │         │
│  ╰─ ./benches/moby-dick.automerge  330.9 ms      │ 355.2 ms      │ 338.3 ms      │ 340.2 ms      │ 9       │ 9
│                                    max alloc:    │               │               │               │         │
│                                      440.9 MB    │ 440.9 MB      │ 440.9 MB      │ 440.9 MB      │         │
│                                    alloc:        │               │               │               │         │
│                                      1245858     │ 1245858       │ 1245858       │ 1245858       │         │
│                                      402.5 MB    │ 402.5 MB      │ 402.5 MB      │ 402.5 MB      │         │
│                                    dealloc:      │               │               │               │         │
│                                      1245858     │ 1245858       │ 1245858       │ 1245858       │         │
│                                      732.2 MB    │ 732.2 MB      │ 732.2 MB      │ 732.2 MB      │         │
│                                    grow:         │               │               │               │         │
│                                      623         │ 623           │ 623           │ 623           │         │
│                                      329.7 MB    │ 329.7 MB      │ 329.7 MB      │ 329.7 MB      │         │
╰─ save                                            │               │               │               │         │
   ├─ ./benches/embark.automerge     30.21 ms      │ 92.14 ms      │ 32.91 ms      │ 33.82 ms      │ 89      │ 89
   │                                 max alloc:    │               │               │               │         │
   │                                   8.076 MB    │ 8.076 MB      │ 8.076 MB      │ 8.076 MB      │         │
   │                                 alloc:        │               │               │               │         │
   │                                   2193        │ 2193          │ 2193          │ 2193          │         │
   │                                   17.27 MB    │ 17.27 MB      │ 17.27 MB      │ 17.27 MB      │         │
   │                                 dealloc:      │               │               │               │         │
   │                                   2193        │ 2193          │ 2193          │ 2193          │         │
   │                                   18.63 MB    │ 18.63 MB      │ 18.63 MB      │ 18.63 MB      │         │
   │                                 grow:         │               │               │               │         │
   │                                   514         │ 514           │ 514           │ 514           │         │
   │                                   1.351 MB    │ 1.351 MB      │ 1.351 MB      │ 1.351 MB      │         │
   ╰─ ./benches/moby-dick.automerge  51.56 ms      │ 204.1 ms      │ 54.19 ms      │ 58.93 ms      │ 51      │ 51
                                     max alloc:    │               │               │               │         │
                                       7.272 MB    │ 7.272 MB      │ 7.272 MB      │ 7.272 MB      │         │
                                     alloc:        │               │               │               │         │
                                       92          │ 92            │ 92            │ 92            │         │
                                       6.305 MB    │ 6.305 MB      │ 6.305 MB      │ 6.305 MB      │         │
                                     dealloc:      │               │               │               │         │
                                       92          │ 92            │ 92            │ 92            │         │
                                       12.47 MB    │ 12.47 MB      │ 12.47 MB      │ 12.47 MB      │         │
                                     grow:         │               │               │               │         │
                                       42          │ 42            │ 42            │ 42            │         │
                                       6.168 MB    │ 6.168 MB      │ 6.168 MB      │ 6.168 MB      │         │

load_save                    fastest       │ slowest       │ median        │ mean          │ samples │ iters
├─ load                                    │               │               │               │         │
│  ├─ BigPaste               97.96 µs      │ 292 µs        │ 103.5 µs      │ 119 µs        │ 100     │ 100
│  │                         max alloc:    │               │               │               │         │
│  │                           81.77 KB    │ 81.77 KB      │ 81.77 KB      │ 81.77 KB      │         │
│  │                         alloc:        │               │               │               │         │
│  │                           118         │ 118           │ 118           │ 118           │         │
│  │                           126 KB      │ 126 KB        │ 126 KB        │ 126 KB        │         │
│  │                         dealloc:      │               │               │               │         │
│  │                           118         │ 118           │ 118           │ 118           │         │
│  │                           192.4 KB    │ 192.4 KB      │ 192.4 KB      │ 192.4 KB      │         │
│  │                         grow:         │               │               │               │         │
│  │                           34          │ 34            │ 34            │ 34            │         │
│  │                           66.36 KB    │ 66.36 KB      │ 66.36 KB      │ 66.36 KB      │         │
│  ├─ DeepHistory            26.02 ms      │ 35.51 ms      │ 28.52 ms      │ 28.54 ms      │ 99      │ 99
│  │                         max alloc:    │               │               │               │         │
│  │                           15.11 MB    │ 15.11 MB      │ 15.11 MB      │ 15.11 MB      │         │
│  │                         alloc:        │               │               │               │         │
│  │                           194893      │ 194893        │ 194893        │ 194893        │         │
│  │                           34.13 MB    │ 34.13 MB      │ 34.13 MB      │ 34.13 MB      │         │
│  │                         dealloc:      │               │               │               │         │
│  │                           194893      │ 194893        │ 194893        │ 194893        │         │
│  │                           50.04 MB    │ 50.04 MB      │ 50.04 MB      │ 50.04 MB      │         │
│  │                         grow:         │               │               │               │         │
│  │                           71111       │ 71111         │ 71111         │ 71111         │         │
│  │                           15.91 MB    │ 15.91 MB      │ 15.91 MB      │ 15.91 MB      │         │
│  ├─ MapsInMaps             3.409 ms      │ 5.376 ms      │ 3.562 ms      │ 3.714 ms      │ 100     │ 100
│  │                         max alloc:    │               │               │               │         │
│  │                           4.404 MB    │ 4.404 MB      │ 4.404 MB      │ 4.404 MB      │         │
│  │                         alloc:        │               │               │               │         │
│  │                           10108       │ 10108         │ 10108         │ 10108         │         │
│  │                           4.39 MB     │ 4.39 MB       │ 4.39 MB       │ 4.39 MB       │         │
│  │                         dealloc:      │               │               │               │         │
│  │                           10108       │ 10108         │ 10108         │ 10108         │         │
│  │                           7.848 MB    │ 7.848 MB      │ 7.848 MB      │ 7.848 MB      │         │
│  │                         grow:         │               │               │               │         │
│  │                           88          │ 88            │ 88            │ 88            │         │
│  │                           3.457 MB    │ 3.457 MB      │ 3.457 MB      │ 3.457 MB      │         │
│  ╰─ PoorlySimulatedTyping  21.86 ms      │ 102.9 ms      │ 24.64 ms      │ 25.61 ms      │ 100     │ 100
│                            max alloc:    │               │               │               │         │
│                              14.65 MB    │ 14.65 MB      │ 14.65 MB      │ 14.65 MB      │         │
│                            alloc:        │               │               │               │         │
│                              194883      │ 194883        │ 194883        │ 194883        │         │
│                              30.61 MB    │ 30.61 MB      │ 30.61 MB      │ 30.61 MB      │         │
│                            dealloc:      │               │               │               │         │
│                              194883      │ 194883        │ 194883        │ 194883        │         │
│                              46.63 MB    │ 46.63 MB      │ 46.63 MB      │ 46.63 MB      │         │
│                            grow:         │               │               │               │         │
│                              80111       │ 80111         │ 80111         │ 80111         │         │
│                              16.02 MB    │ 16.02 MB      │ 16.02 MB      │ 16.02 MB      │         │
╰─ save                                    │               │               │               │         │
   ├─ BigPaste               171.4 µs      │ 682.4 µs      │ 188.9 µs      │ 235.3 µs      │ 100     │ 100
   │                         max alloc:    │               │               │               │         │
   │                           379.8 KB    │ 379.8 KB      │ 379.8 KB      │ 379.8 KB      │         │
   │                         alloc:        │               │               │               │         │
   │                           38          │ 38            │ 38            │ 38            │         │
   │                           369.5 KB    │ 369.5 KB      │ 369.5 KB      │ 369.5 KB      │         │
   │                         dealloc:      │               │               │               │         │
   │                           37          │ 37            │ 37            │ 37            │         │
   │                           418.2 KB    │ 418.2 KB      │ 418.2 KB      │ 418.2 KB      │         │
   │                         grow:         │               │               │               │         │
   │                           23          │ 23            │ 23            │ 23            │         │
   │                           56.42 KB    │ 56.42 KB      │ 56.42 KB      │ 56.42 KB      │         │
   ├─ DeepHistory            4.831 ms      │ 7.984 ms      │ 5.468 ms      │ 5.543 ms      │ 100     │ 100
   │                         max alloc:    │               │               │               │         │
   │                           4.225 MB    │ 4.225 MB      │ 4.225 MB      │ 4.225 MB      │         │
   │                         alloc:        │               │               │               │         │
   │                           47          │ 47            │ 47            │ 47            │         │
   │                           5.429 MB    │ 5.429 MB      │ 5.429 MB      │ 5.429 MB      │         │
   │                         dealloc:      │               │               │               │         │
   │                           46          │ 46            │ 46            │ 46            │         │
   │                           5.786 MB    │ 5.786 MB      │ 5.786 MB      │ 5.786 MB      │         │
   │                         grow:         │               │               │               │         │
   │                           34          │ 34            │ 34            │ 34            │         │
   │                           392.8 KB    │ 392.8 KB      │ 392.8 KB      │ 392.8 KB      │         │
   ├─ MapsInMaps             2.141 ms      │ 3.753 ms      │ 2.19 ms       │ 2.281 ms      │ 100     │ 100
   │                         max alloc:    │               │               │               │         │
   │                           731.3 KB    │ 731.3 KB      │ 731.3 KB      │ 731.3 KB      │         │
   │                         alloc:        │               │               │               │         │
   │                           730         │ 730           │ 730           │ 730           │         │
   │                           1.235 MB    │ 1.235 MB      │ 1.235 MB      │ 1.235 MB      │         │
   │                         dealloc:      │               │               │               │         │
   │                           729         │ 729           │ 729           │ 729           │         │
   │                           1.537 MB    │ 1.537 MB      │ 1.537 MB      │ 1.537 MB      │         │
   │                         grow:         │               │               │               │         │
   │                           721         │ 721           │ 721           │ 721           │         │
   │                           342.5 KB    │ 342.5 KB      │ 342.5 KB      │ 342.5 KB      │         │
   ╰─ PoorlySimulatedTyping  1.498 ms      │ 65 ms         │ 1.834 ms      │ 2.663 ms      │ 100     │ 100
                             max alloc:    │               │               │               │         │
                               1.052 MB    │ 1.052 MB      │ 1.052 MB      │ 1.052 MB      │         │
                             alloc:        │               │               │               │         │
                               47          │ 47            │ 47            │ 47            │         │
                               1.714 MB    │ 1.714 MB      │ 1.714 MB      │ 1.714 MB      │         │
                             dealloc:      │               │               │               │         │
                               46          │ 46            │ 46            │ 46            │         │
                               1.76 MB     │ 1.76 MB       │ 1.76 MB       │ 1.76 MB       │         │
                             grow:         │               │               │               │         │
                               27          │ 27            │ 27            │ 27            │         │
                               53.43 KB    │ 53.43 KB      │ 53.43 KB      │ 53.43 KB      │         │

map                    fastest       │ slowest       │ median        │ mean          │ samples │ iters
├─ decreasing_put                    │               │               │               │         │
│  ├─ 100              512.2 µs      │ 1.091 ms      │ 541.3 µs      │ 565.8 µs      │ 100     │ 100
│  ├─ 1000             5.354 ms      │ 7.113 ms      │ 5.516 ms      │ 5.653 ms      │ 100     │ 100
│  ╰─ 10000            56.12 ms      │ 63.81 ms      │ 58.7 ms       │ 58.79 ms      │ 51      │ 51
├─ increasing_put                    │               │               │               │         │
│  ├─ 100              652 µs        │ 1.303 ms      │ 673.6 µs      │ 702.6 µs      │ 100     │ 100
│  ├─ 1000             7.448 ms      │ 9.277 ms      │ 7.621 ms      │ 7.786 ms      │ 100     │ 100
│  ╰─ 10000            77.76 ms      │ 82.27 ms      │ 80.02 ms      │ 79.98 ms      │ 38      │ 38
├─ repeated_increment                │               │               │               │         │
│  ├─ 100              1.94 ms       │ 3.177 ms      │ 1.986 ms      │ 2.048 ms      │ 100     │ 100
│  ╰─ 1000             138.8 ms      │ 221.2 ms      │ 144.6 ms      │ 151.9 ms      │ 20      │ 20
╰─ repeated_put                      │               │               │               │         │
   ├─ 100              996.5 µs      │ 1.333 ms      │ 1.007 ms      │ 1.018 ms      │ 100     │ 100
   ├─ 1000             48.46 ms      │ 126.8 ms      │ 50.9 ms       │ 52.36 ms      │ 58      │ 58
   ╰─ 10000            4.483 s       │ 4.483 s       │ 4.483 s       │ 4.483 s       │ 1       │ 1

range         fastest       │ slowest       │ median        │ mean          │ samples │ iters
├─ range                    │               │               │               │         │
│  ╰─ 100000  19.06 ms      │ 71.11 ms      │ 20.34 ms      │ 21.5 ms       │ 100     │ 100
╰─ range_at                 │               │               │               │         │
   ╰─ 100000  18.75 ms      │ 21.25 ms      │ 19.32 ms      │ 19.44 ms      │ 100     │ 100

sync                 fastest       │ slowest       │ median        │ mean          │ samples │ iters
╰─ sync                            │               │               │               │         │
   ├─ ManyTx(10000)  1.832 µs      │ 115.4 ms      │ 1.874 µs      │ 1.155 ms      │ 100     │ 100
   ╰─ OneTx(10000)   582.6 ns      │ 80.89 ms      │ 624.6 ns      │ 809.5 µs      │ 100     │ 100

```
